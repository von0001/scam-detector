<!DOCTYPE html>
<html>
<head>
  <title>ScamDetector ‚Äî Admin Access</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <style>
    body {
      margin: 0;
      height: 100vh;
      background: radial-gradient(circle at top, #0b1020, #02040a);
      font-family: system-ui, -apple-system, Segoe UI, Roboto;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #f1f5f9;
    }

    .login-wrapper {
      width: 100%;
      max-width: 380px;
      background: linear-gradient(145deg, #111827, #020617);
      border: 1px solid #1f2937;
      border-radius: 18px;
      padding: 32px;
      box-shadow: 0 25px 60px rgba(0,0,0,0.8);
      text-align: center;
    }

    h2 {
      margin-bottom: 10px;
      font-size: 26px;
      font-weight: 600;
      letter-spacing: 0.03em;
    }

    .subtitle {
      font-size: 14px;
      color: #94a3b8;
      margin-bottom: 26px;
    }

    input {
      width: 100%;
      padding: 14px;
      margin-top: 14px;
      background: #020617;
      border: 1px solid #1e293b;
      color: #f8fafc;
      border-radius: 10px;
      font-size: 15px;
      outline: none;
      transition: 0.2s ease;
    }

    input:focus {
      border-color: #38bdf8;
      box-shadow: 0 0 0 2px rgba(56,189,248,0.2);
    }

    button {
      width: 100%;
      padding: 14px;
      margin-top: 18px;
      background: linear-gradient(135deg, #2563eb, #38bdf8);
      color: white;
      cursor: pointer;
      border: none;
      border-radius: 999px;
      font-size: 15px;
      font-weight: 600;
      letter-spacing: 0.04em;
    }

    button:hover {
      transform: translateY(-1px);
      background: linear-gradient(135deg, #1d4ed8, #0ea5e9);
    }

    .error {
      margin-top: 14px;
      color: #f87171;
      font-size: 14px;
      min-height: 20px;
    }

    .badge {
      font-size: 12px;
      color: #64748b;
      margin-top: 22px;
    }
  </style>
</head>

<body>

<div class="login-wrapper">
  <h2>üîê Admin Access</h2>
  <p class="subtitle">ScamDetector Secure Control Portal</p>

  <input id="password" type="password" placeholder="Enter admin password..." />
  <button onclick="login()">Authenticate</button>

  <p id="err" class="error"></p>
  <div class="badge">Restricted Internal System</div>
</div>

<script>
  function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) return parts.pop().split(";").shift();
    return null;
  }

  async function login() {
    const password = document.getElementById("password").value;
    const headers = {"Content-Type": "application/json"};
    const csrf = getCookie("sd_csrf");
    if (csrf) {
      headers["x-csrf-token"] = csrf;
    }

    const res = await fetch("/admin/login", {
      method: "POST",
      headers,
      credentials: "include",
      body: JSON.stringify({ password })
    });

    if (res.status === 200) {
      window.location.href = "/admin";
    } else {
      document.getElementById("err").textContent = "Access Denied.";
    }
  }
</script>

</body>
</html>
